# 生产者概览
一个应用程序在很多情况下需要往kafka中写入消息：记录用户的活动用于审计和分析、记录度量指标、保存日志消息、与其他应用程序进行异步通信、缓冲即将写入到数据库的数据等等。

创建一个ProducerRecord对象，需要包含目标主题和要发送的内容，当然还可以指定键或者分区。
- 第一步：在发送ProducerRecord时，生产者需要先把键和值对象序列化成字节数组，这样它们才能在网络上传输
- 第二步：数据被传输给分区器，此时分为两种情况处理，第一种情况是如果之前指定了分区，则直接返回指定的分区，第二种情况是没有指定分区，则会根据ProducerRecord中的键来选择一个分区。选好分区之后，生产者就知道往哪个主题和分区发送消息了。
- 第三步：这条记录被添加到一个批次里，这个批次里的所有记录都会发送到相同的主题和分区上，有一个独立的线程负责把这些记录批次发送到相应的broker上。
- 第四步：如果消息成功写入Kafka中，就会返回一个RecordMetadata对象，包含了主题和分区信息，以及记录在分区中的偏移量。如果没有写入成功，则会返回一个错误，生产者在收到这个错误之后会重新发送消息，几次之后如果还是失败，就返回错误信息。

# 创建Kafka生产者
