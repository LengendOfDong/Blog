# 外部中断和内部中断

## 外部中断和内部中断的区别
外部中断是指外部有中断源时执行相应的中断程序，主要是指INT0,INT1,通讯中断；内部中断主要是指定时器/计数器中断，装栈溢出后置位相关特殊寄存器来执行中断；

外部中断：

你在吃饭，这时候电话响了，你暂时放下餐具去接听电话在这里吃饭是你目前正在执行的程序，电话响了，是一个中断源，他是随机的，不定时发生，接完电话（处理完中断事件）你回来继续吃，（继续执行中断点没有做处理完的程序）

内部中断：

你正在吃饭，这时碗里的饭没有了，你要去盛饭，盛了饭回来继续吃，在这里吃饭依然是你目前正在处理的一个程序，碗里的饭没有了相当于是一个中断，这个中断是由你吃饭引起了，相当于系统中的标志位溢出；

## 外部中断

由CPU执行指令以外的事件引起，如I/O完成中断，表示设备输入/输出处理已经完成，处理器能够发送下一个输入/输出请求。
此外还有时钟中断、控制中断等。

## 内部中断

### 内部中断类型

※ 被零除中断(INT 0)：
执行除法指令时，出现除数为0或商超过寄存器所能表达的范围，则产生类型为0 的内部中断。它是优先级最高的内部中断。
※ 单步中断(INT 1)：
当TF=1且IF=1时每执行一条指令就引起一次中断，程序控制将转入单步中断服务 程序。单步中断方式是一种有用的调试手段，可以跟踪指令流程，从而确定程序出错的位置。
※ 溢出中断(INTO INT 4)：
若指令执行结果使溢出标志位置1（OF=1），则在执行溢出中断指令 （INTO）时，引起类型4的内部中断。与被零除中断不同的是，出现溢出状态时不会由上一条指令自动 产生中断，必须由INTO指令执行溢出中断。
※ 断点中断（INT 3）：
8086/8088指令中有一条单字节中断指令（INT 3），执行后CPU转向执行一个 断点中断服务程序。使用该指令可以在程序的任何地方设置断点，从而在调试程序时检查程序的运行结果。
※ 指令中断：
软件中断调用 (INT n ),用户定义的双字节中断指令，第一个字节为操作码，第2个字节n是 中断类型号。

### 内部中断的特点

1.　内部中断由一条指令INT n产生中断类型码或者由指令规定，或者是预定的。
2.　不执行INTA总线周期，CPU也不发出响应信号INTA。
3.　除单步中断外，内部中断无法用软件禁止。
4.　除单步中断外，内部中断比外部中断具有更低的优先级别。
