# 虚拟内存
虚拟内存的目的是为了让物理内存扩充成更大的逻辑内存，从而让程序获得更多的可用内存。

为了更好的管理内存，操作系统将内存抽象成地址空间，每个程序拥有自己的地址空间，这个地址空间被分割成多个块，每一块称为一页。这些页被映射到物理内存，但不需要映射到连续的物理内存，也不需要所有也都必须在物理内存中。当程序引用到不在物理内存中的页时，由硬件执行必要的映射，将缺失的部分装入物理内存并重新执行失败的指令。

# 分页系统地址映射
用于管理页和页框的映射表
内存管理单元管理着地址空间和物理内存的转换，其中的页表存储着页（程序地址空间）和页框（物理内存空间）的映射表

一个虚拟地址分成两个部分，一部分存储页面号，一部分存储偏移量。

# 页面置换算法
用于处理缺页情况
在程序运行中，如果要访问的页面不在内存中，就发生缺页中断从而将该页调入内存中。此时如果内存已无空闲空间，系统必须从内存中调出一个页面到磁盘对换区来腾出空间。

页面置换算法和缓存淘汰策略类似，可以将内存看成磁盘的缓存。在缓存系统中，缓存的大小有限，当有新的缓存到达时，需要淘汰一部分已经存在的缓存，这样才有空间存放新的缓存数据。

页面置换算法的主要目标是使页面置换频率最低（也可以说缺页率最低）

## 1.最佳（OPT）
所选择的被换出的页面将是最长时间内不再被访问，通常可以保证获得最低的缺页率。（理论算法，需要知道未来使用的页面情况）

## 2.最近最久未使用(LRU)
虽然无法知道将来要使用的页面情况，但是可以知道过去使用页面的情况，LRU将最近最久未使用的页面换出。

为了实现LRU，需要在在内存中维护一个所有页面的链表，当一个页面被访问时，将这个页面移到链表表头。这样就能保证链表表尾的页面是最近最久未访问的。

## 3.最近未使用(NRU)
当发生缺页中断时，NRU优先换出已经被修改的脏页面，而不是被频繁使用的干净页面。

## 4.先进先出(FIFO)
选择换出的页面是最先进入的页面。
该算法将那些经常被访问的页面也被换出，从而使缺页率升高。

## 5.第二次机会算法
对于被访问过的页面会有两次机会，对于没有被访问过的页面将会换出。

标志位为0，则直接换出页面；

标志位为1，则标志位置位为1，并将页面放置链表最后、

## 6.时钟（CLOCK）
第二次机会算法需要在链表中移动页面，降低了效率，时钟算法使用环形链表将页面连接起来，再用一个指针指向最老的页面。

# 分段
虚拟内存采用的是分页技术，也就是将地址空间划分成固定大小的页，每一页再与内存进行映射。

分段的做法是把每个表分成段，一个段构成一个独立的地址空间。每个段的长度可以不同，并且可以动态增长。

# 段页式
程序的地址空间划分成多个拥有独立地址空间的
