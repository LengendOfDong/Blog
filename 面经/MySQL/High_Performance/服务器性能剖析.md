## 性能优化简介
性能定义为完成某件任务所需要的时间度量，性能即响应时间。

完成一项任务所需要的时间可以分成两部分：执行时间和等待时间。

如果要优化任务的执行时间，最好的办法就是通过测量定位不同的子任务花费的时间，然后优化去掉一些子任务、降低子任务的执行频率或者提升子任务的效率。

如果要优化任务的等待时间，因为等待有可能是其他系统间接影响导致，任务之间也可能由于争用磁盘或者cpu资源而相互影响。

## 总结
- 我们认为定义性能最有效的方法时响应时间。
- 如果无法测量就无法有效优化，所以性能优化工作需要基于高质量、全方位及完整的响应时间测量。
- 测量最佳开始点是应用程序，而不是数据库。即使问题出在底层的数据库，借助良好的测量也可以很容易地发现问题。
- 大多数系统无法完整地测量，测量有时候也会有错误的结果。但也可以想办法绕过一些限制，并得到很好的结果。
- 完整的测量会产生大量需要分析的数据，所以需要用到剖析器。这是最佳的工具，可以帮助将重要的问题冒泡到前面，这样就可以决定从哪里开始分析会比较好。
- 剖析报告是一种汇总信息，掩盖和丢弃了太多细节。而且它不会告诉你缺少了什么，所以完全依赖剖析报告是不明智的。
- 有两种消耗时间的操作：工作或者等待。大多数剖析器只能测量因为工作而消耗的时间，所以等待分析有时候是很有用的补充，尤其是当CPU利用率很低但工作却一直无法完成的时候。
- 优化和提升是两回事，当继续提升的成本超过收益的时候，应当停止优化。
- 注意你的直觉，但应该只根据直觉来指导解决问题的思路，而不是用于确定系统的问题。决策应当尽量基于数据而不是感觉。

