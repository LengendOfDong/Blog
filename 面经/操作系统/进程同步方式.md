# 进程同步

## 1.临界区
对临界资源进行访问的那段代码称为临界区。
为了互斥访问临界资源，每个进程在进入临界区之前，需要先进行检查。

## 2.同步与互斥
- 同步：多个进程因为合作产生的直接制约关系，使得进程有一定的先后执行关系。
- 互斥：多个进程在同一时刻只有一个进程能进入临界区。

## 3.信号量
信号量（Semaphore）是一个整型变量，可以对其进行down和up操作，也就是常见的P和V操作。
- down：如果信号量大于0，执行-1操作；如果信号量等于0，进程睡眠，等待信号量大于0；
- up:对信号量执行+1操作，唤醒睡眠的进程让其完成down操作。
如果信号量的取值只能为0或1，那么就成为了互斥量（Mutex）,0表示临界区已经加锁，1表示临界区解锁。

## 4.管程
管程有一个重要特性：在一个时刻只能有一个进程使用管程。进程在无法继续执行的时候不能一直占用管程，否则其他进程永远不能使用管程。

管程引入了*条件变量*以及相关的操作：wait()和signal()来实现同步操作。

对条件变量执行wait()操作会导致调用进程阻塞，把管程让出来给另一个进程持有。

signal()操作用于唤醒被阻塞的进程。
