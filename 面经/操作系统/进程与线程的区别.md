# 进程与线程的区别

# 进程与线程的定义

进程：是并发执行的程序在执行过程中分配和管理资源的基本单位，是一个动态概念，竞争计算机系统资源的基本单位。<br/>
线程：是进程的一个执行单元，是进程内调度实体。比进程更小的独立运行的基本单位。线程也被称为轻量级进程。<br/>
一个程序至少一个进程，一个进程至少一个线程。

## 为什么会有线程

  每个进程都有自己的地址空间，即进程空间，在网络或多用户交换机下，一个服务器通常需要接收大量不确定数量用户的并发请求，为每一个请求都创建一个进程显然行不通（系统开销大，响应用户请求效率低），因此操作系统中线程概念被引进。

线程的改变只代表CPU的执行过程的改变，而没有发生进程所拥有的资源的变化。

## 进程线程的区别
I 拥有资源

进程是资源分配的基本单位，但是线程不拥有资源，线程可以访问隶属进程的资源。

II 调度

线程是独立调度的基本单位，在同一进程中，线程的切换不会引起进程切换，从一个进程中的线程切换到另一个进程中的线程时，会引起进程切换。

III 系统开销

由于创建或撤销进程时，系统都要为之分配或回收资源，如内存空间、I/O设备等，所付出的开销远大于创建或撤销线程时的开销。类似地，在进行进程切换时，涉及当前执行进程CPU环境的保存及新调度进程CPU环境的设置，而线程切换时只需保存和设置少量寄存器内容，开销很小。

IV 通信方面

线程间可以通过直接读写同一进程中的数据进行通信，但是进程通信需要借助IPC(Inter-Process Communication)。

## 何时用

1）对资源的管理和保护要求高，不限制开销和效率时，使用多进程。<br/>
2）要求效率高，频繁切换时，资源的保护管理要求不是很高时，使用多线程。
