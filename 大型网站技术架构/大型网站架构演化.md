# 大型网站架构演化

## 大型网站软件系统的特点
- 高并发，大流量：高并发用户，大流量访问
- 高可用：系统7 * 24小时不间断服务
- 海量数据：需要存储、管理海量数据，需要使用大量服务器
- 用户分布广泛，网络情况复杂：为全球用户服务，用户分布范围广，各地网络情况千差万别。
- 安全环境恶劣：互联网站更容易受到黑客攻击。
- 需求快速变更，发布频繁：互联网产品为快速适应市场，需要极高的产品发布频率。
- 渐进式发展：好的互联网产品都是慢慢运营出来的，通过不停地迭代，与网站架构的发展演化过程对应。

## 大型网站架构演化发展历程
- 初始阶段的网站架构

  应用程序，文件，数据库系统都在一台服务器上，应用程序使用PHP开发，服务器操作系统使用Linux,然后部署在Apache上，数据库使用MySQL。
  
  缺点：用户访问数增多导致性能越来越差，同时数据增多导致存储空间不足。

- 应用服务和数据服务分离

  应用服务器、文件、数据库分别在不同的机器上。应用和数据分离后，不同特性的服务器承担着不同的角色。
  
  缺点：数据库压力太大导致访问延迟，进而影响整个网站的性能，用户体验受到影响。
 
- 使用缓存改善网站性能

  网站访问特点遵循二八定律，即80%的业务访问集中在20%的数据上。将这小部分数据缓存在内存中，可以减少数据的访问压力，提高整个网站的数据访问速度，改善数据库的写入性能。
  
  缓存可以分为两种：缓存在应用服务器上的本地缓存和缓存在专门的分布式服务器上的远程缓存。本地缓存访问速度快，但受应用服务器的内存大小限制，远程缓存可以使用集群的方式，内存可以做得很大。
  
  缺点：单一应用服务器能够处理的请求连接有限，在网站访问高峰期，应用服务器成为整个网站的瓶颈。
  
- 使用应用服务器集群改善

  使用集群时网站解决高并发、海量数据问题的常用手段。对网站架构而言，只要能通过增加一台服务器的方式改善负载压力，就可以以同样的方式持续增加服务器不断改善系统性能，从而实现系统的可伸缩性。
  
  缺点：仍有一部分读操作（缓存访问不命中，缓存过期）和全部的写操作需要访问数据库，数据库会成为网站的瓶颈。
  
- 数据库读写分离

  
